name: autofix.ci  # needed to securely identify the workflow
on: [ push, pull_request ]
permissions:
  contents: read

jobs:
  autofix:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - uses: install-pinned/black@81e6dbf82145462d413a6662dd703fa382edeb11
      - run: black .

      - uses: install-pinned/reorder_python_imports@97c3e89c53ae5513cc41716e876e26daff8bbdd6
      - run: |
         shopt -s globstar
         reorder-python-imports --exit-zero-even-if-changed --py310-plus **/*.py

      - uses: autofix-ci/action@85348864affbd15ee858694a665c38b2f31d802c
